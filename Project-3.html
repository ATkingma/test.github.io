<!DOCTYPE html>
<html style="font-size: 16px;" lang="nl"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="​LevelGenerator, ​About&nbsp;​LevelGenerator, ​MapGenerator">
    <meta name="description" content="">
    <title>Project 3</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="Project-3.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 5.6.2, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    
    
    
    
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "TimmeKingma"
}</script>
    <meta name="theme-color" content="#a37fdf">
    <meta property="og:title" content="Project 3">
    <meta property="og:type" content="website">
    <body class="u-body u-xl-mode"><header class="u-align-center u-clearfix u-header u-white u-header" id="sec-ab9d"><div class="u-align-center u-clearfix u-sheet u-sheet-1"></div></header>
      <section id="sidebar">
        <div class="inner">
          <nav>
            <ul>
      <li><a href="home.html">HomePage</a></li>
      <li><a href="Home.html#sec-f0a5">InternShips</a></li>
      <li><a href="Project-1.html">Level Generator</a></li>
      <li><a href="Project-2.html">Procedural Map</a></li>
      <li><a href="https://github.com/ATkingma">github</a></li>
    </ul>
    </nav>
    </div>
    </section>
  <meta data-intl-tel-input-cdn-path="intlTelInput/"></head>
  <body class="u-body u-xl-mode" data-lang="nl"><header class="u-clearfix u-container-align-center u-header u-image u-header" id="sec-d402" data-image-width="1980" data-image-height="1321"><div class="u-clearfix u-sheet u-sheet-1"></div></header>
    <section class="u-clearfix u-image u-section-1" id="sec-ece7" data-image-width="1980" data-image-height="1321">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h1 class="u-text u-text-default u-text-1"> Pivot Adjuster</h1>
        <p class="u-large-text u-text u-text-variant u-text-2">OnGoing<br>Personal<br>1 week<br>Unity<br>C#<br>Programmer<br>
          <a href="https://github.com/ATkingma/PivotToolPackage" class="u-active-none u-border-2 u-border-grey-75 u-border-hover-grey-75 u-border-no-left u-border-no-right u-border-no-top u-bottom-left-radius-0 u-bottom-right-radius-0 u-btn u-button-link u-button-style u-hover-none u-none u-radius-0 u-text-body-color u-text-hover-palette-1-base u-top-left-radius-0 u-top-right-radius-0 u-btn-1" target="_blank">ClickHere</a>
        </p>
        <p class="u-large-text u-text u-text-variant u-text-3"> Project Status<br>Project Type<br>Project Du​ration<br>Software Used<br>Languages Used<br>Primary Role(s)<br>Github
        </p>
      </div>
    </section>
    <section class="u-clearfix u-palette-5-dark-1 u-section-2" id="sec-4a73">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h2 class="u-text u-text-default u-text-1"> About&nbsp;​​Pivot Adjuster</h2>
        <p class="u-text u-text-2"> Pivot Adjuster" is a tool that I created as part of a collection. Its primary function is to change the pivot of a mesh from a MeshFilter and export it to formats such as FBX, STL, OBJ, and Asset.In addition to the main feature, the tool also includes the following extra features:<br>
        </p>
        <ul class="u-text u-text-3">
          <li> Multiple Pivots: Allows you to use multiple pivots and obtain the center from those pivots.&nbsp;</li>
          <li>Vertex Snap: Enables you to snap on your own mesh.&nbsp;</li>
          <li>Get Center: Provides the center of all vertices.&nbsp;</li>
          <li>Slider Movement: Lets you change the pivot position using X, Y, and Z sliders.</li>
        </ul>
        <div class="u-palette-5-light-1 u-shape u-shape-rectangle u-shape-1"></div>
        <img class="u-image u-image-default u-preserve-proportions u-image-gif" src="images/pivotgifje.gif" alt="" data-image-width="934" data-image-height="934">
        <div class="u-palette-5-light-1 u-shape u-shape-rectangle u-shape-2"></div>
        <img class="u-image u-image-default u-preserve-proportions u-image-2" src="images/pivot adjuster.png" alt="" data-image-width="934" data-image-height="934">
      </div>
    </section>
    <section class="u-clearfix u-image u-section-3" id="sec-15fc" data-image-width="1980" data-image-height="1321">
      <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <img class="u-image u-image-default u-preserve-proportions u-image-1" src="images/pivot cube.png" alt="" data-image-width="934" data-image-height="934">
      </div>
    </section>
    <section class="u-clearfix u-palette-5-dark-1 u-section-4" id="sec-3a8f">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h2 class="u-text u-text-default u-text-1"> About&nbsp;​Pivot Adjuster</h2>
        <p class="u-align-left u-text u-text-2">
          <span style="font-size: 1.875rem;">Tab 1: Pivot Adjuster</span>
          <br>
          <span style="font-weight: 400;">The tool is comprised of four tabs, which the user can select to open.Tab 1: Pivot Adjuster
The Pivot Adjuster tab has a button to enable and disable the pivot gizmos. It also allows the user to set a new delta position on an asset mesh, which can successfully change the pivot of a 3D Unity asset. This tab also provides the ability to export the mesh to different types of 3D assets such as.</span>
          <br>
        </p>
        <ul class="u-align-left u-text u-text-3">
          <li>Asset</li>
          <li>OBJ</li>
          <li>FBX</li>
          <li>STL</li>
        </ul>
        <p class="u-align-left u-text u-text-4">
          <span style="font-size: 1.875rem;"></span>
          <span style="font-size: 1.875rem;">Tab 2: Pivot Movement</span>
          <br>&nbsp;<span style="font-weight: 400;">The Pivot Movement tab contains additional movement options for the gizmos. Users can move the pivot with sliders for X, Y, and Z coordinates. They can center the pivot position by calculating the center of the vertices. This tab also allows multiple gizmos to be enabled, which can be used to set gizmos around an object to calculate the center of those gizmos and set the pivot to that point.</span>
          <br>
          <br>
          <span style="font-size: 1.875rem;">Tab 3: Settings</span>
          <br>&nbsp;<span style="font-weight: 400;">The Settings tab contains some options for the user, including the slider length for the Pivot Movement tab, the maximum number of undo saves before old positions are discarded, and the undo distance, which is the distance between the gizmo position and an old saved position. Additionally, there are some extra information booleans and settings for colliders and navmesh objects.</span>
          <br>
          <br>
          <span style="font-size: 1.875rem;">Tab 4: Explanation</span>&nbsp;<br>
          <span style="font-weight: 400;">This tab provides a quick explanation of how the tool works and how users can reach the creator for support.</span>
          <br>
        </p>
      </div>
    </section>
    <section class="u-clearfix u-image u-section-5" id="sec-5e4d" data-image-width="1980" data-image-height="1321">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h6 class="u-text u-text-default u-text-1"> Here is&nbsp;a&nbsp;code snipped of the code.</h6>
        <div class="u-accordion u-accordion-1">
          <div class="u-accordion-item u-accordion-item-2">
            <a class="u-accordion-link u-active-palette-5-base u-border-2 u-border-grey-75 u-border-hover-palette-5-light-1 u-button-style u-hover-palette-5-base u-palette-5-base u-text-active-white u-text-body-alt-color u-text-hover-white u-accordion-link-2" id="link-3018" aria-controls="3018" aria-selected="false">
              <span class="u-accordion-link-text">PivotService</span>
            </a>
            <div class="u-accordion-pane u-container-style u-accordion-pane-2" id="3018" aria-labelledby="link-3018">
              <div class="u-container-layout u-container-layout-2">
                  <!--#region container-->
               <div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%">  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.Export</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.Handlers</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">UnityEditor</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">UnityEngine</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">Transform</span> = UnityEngine.Transform;

<span style="color: #AA22FF; font-weight: bold">namespace</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.Service</span>
{
	<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
	<span style="color: #008800; font-style: italic">/// pivot service changes the pivot of the mesh</span>
	<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
	<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">class</span> <span style="color: #0000FF">PivotService</span>
	{
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// </span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> UNDO_ADJUST_PIVOT = <span style="color: #BB4444">&quot;Move Pivot&quot;</span>;
        <span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
        <span style="color: #008800; font-style: italic">/// string that contains (Clone) this is what needs to be replaced in the mesh name with copyString</span>
        <span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
        <span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> cloneString = <span style="color: #BB4444">&quot;(Clone)&quot;</span>;
        <span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
        <span style="color: #008800; font-style: italic">/// string that contains (Copy) that what replaces the mesh cloneString</span>
        <span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
        <span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> copyString = <span style="color: #BB4444">&quot;(Copy)&quot;</span>;

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// this is the general call for setting an new pivot and also calls SetMeshInfo and SetChildInfo</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// &lt;param name=&quot;pivotPosition&quot;&gt;&lt;/param&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">SetPivot</span>(Vector3 pivotPosition, <span style="color: #00BB00; font-weight: bold">bool</span> centerCollider,<span style="color: #00BB00; font-weight: bold">bool</span> centerNavmesh)
		{
			Transform SelectedObject = Selection.activeTransform;
			Vector3 oldpos = SelectedObject.position;
			pivotPosition -= oldpos;

			<span style="color: #AA22FF; font-weight: bold">if</span> (DataChecker.IsPrefab(SelectedObject))
			{
				Debug.LogWarning(<span style="color: #BB4444">&quot;Modifying prefabs directly is not allowed, Drag the mesh you want to change in the scene instead!&quot;</span>);
				<span style="color: #AA22FF; font-weight: bold">return</span>;
			}

			<span style="color: #AA22FF; font-weight: bold">if</span> (pivotPosition == SelectedObject.position)
			{
				Debug.LogWarning(<span style="color: #BB4444">&quot;Pivot hasn&#39;t changed!&quot;</span>);
				<span style="color: #AA22FF; font-weight: bold">return</span>;
			}

			SelectedObject.position -= oldpos;

			MeshFilter meshFilter = SelectedObject.GetComponent&lt;MeshFilter&gt;();

			<span style="color: #AA22FF; font-weight: bold">if</span> (!DataChecker.IsNull(meshFilter) &amp;&amp; !DataChecker.IsNull(meshFilter.sharedMesh))
			{
				Undo.RecordObject(meshFilter, UNDO_ADJUST_PIVOT);

				SetMeshInfo(meshFilter, pivotPosition);
			}

			SetChildInfo(SelectedObject);
			UndoRedoPivot.AddOldPivot(meshFilter.sharedMesh);
			SelectedObject.position = pivotPosition + oldpos;

			<span style="color: #AA22FF; font-weight: bold">if</span> (centerCollider)
			{
				ColliderHandle.SetColliderCenter(SelectedObject,meshFilter);
			}

			<span style="color: #AA22FF; font-weight: bold">if</span> (centerNavmesh)
			{
				NavMeshHandle.SetNavmesh(SelectedObject, pivotPosition);
			}
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// sets the bounds of the mesh</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// &lt;param name=&quot;meshFilter&quot;&gt;&lt;/param&gt;</span>
		<span style="color: #008800; font-style: italic">/// &lt;param name=&quot;pivotPos&quot;&gt;&lt;/param&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">SetMeshInfo</span>(MeshFilter meshFilter, Vector3 pivotPos)
		{
			Mesh mesh = EditorWindow.Instantiate(meshFilter.sharedMesh);
			meshFilter.sharedMesh = mesh;

			Vector3[] vertices = mesh.vertices;
			Vector3[] normals = mesh.normals;
			Vector4[] tangents = mesh.tangents;

			<span style="color: #AA22FF; font-weight: bold">if</span> (pivotPos != Vector3.zero)
			{
				Vector3 deltaPosition = -pivotPos;
				<span style="color: #AA22FF; font-weight: bold">for</span> (<span style="color: #00BB00; font-weight: bold">int</span> i = <span style="color: #666666">0</span>; i &lt; vertices.Length; i++)
				{
					vertices[i] += deltaPosition;
				}
			}

			mesh.vertices = vertices;
			mesh.normals = normals;
			mesh.tangents = tangents;

			mesh.RecalculateBounds();

			<span style="color: #00BB00; font-weight: bold">string</span> meshName = mesh.name;

			meshName = meshName.Replace(cloneString, <span style="color: #00BB00; font-weight: bold">string</span>.Empty);
			meshName = meshName.Replace(copyString, <span style="color: #00BB00; font-weight: bold">string</span>.Empty);
			meshName += copyString;

			mesh.name = meshName;
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// set the position for the children</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// &lt;param name=&quot;SelectedObject&quot;&gt;&lt;/param&gt;</span>
		<span style="color: #008800; font-style: italic">/// &lt;returns&gt;&lt;/returns&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> Transform[] <span style="color: #00A000">SetChildInfo</span>(Transform SelectedObject)
		{
			Transform[] children = <span style="color: #AA22FF; font-weight: bold">new</span> Transform[SelectedObject.childCount];
			Vector3[] childrenPositions = <span style="color: #AA22FF; font-weight: bold">new</span> Vector3[children.Length];
			Quaternion[] childrenRotations = <span style="color: #AA22FF; font-weight: bold">new</span> Quaternion[children.Length];
			<span style="color: #AA22FF; font-weight: bold">for</span> (<span style="color: #00BB00; font-weight: bold">int</span> i = children.Length - <span style="color: #666666">1</span>; i &gt;= <span style="color: #666666">0</span>; i--)
			{
				children[i] = SelectedObject.GetChild(i);
				childrenPositions[i] = children[i].position;
				childrenRotations[i] = children[i].rotation;

				Undo.RecordObject(children[i], UNDO_ADJUST_PIVOT);
			}

			Undo.RecordObject(SelectedObject, UNDO_ADJUST_PIVOT);

			<span style="color: #AA22FF; font-weight: bold">for</span> (<span style="color: #00BB00; font-weight: bold">int</span> i = <span style="color: #666666">0</span>; i &lt; children.Length; i++)
			{
				children[i].position = childrenPositions[i];
				children[i].rotation = childrenRotations[i];
			}
			<span style="color: #AA22FF; font-weight: bold">return</span> children;
		}

		<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">SetnewMesh</span>(Mesh mesh)
		{
			Selection.activeTransform.GetComponent&lt;MeshFilter&gt;().sharedMesh = mesh;
		}
	}
}
</pre></td></tr></table></div>

                <!--#endregion-->
              </div>
            </div>
          </div>
          <div class="u-accordion-item u-accordion-item-2">
            <a class="u-accordion-link u-active-palette-5-base u-border-2 u-border-grey-75 u-border-hover-palette-5-light-1 u-button-style u-hover-palette-5-base u-palette-5-base u-text-active-white u-text-body-alt-color u-text-hover-white u-accordion-link-2" id="link-3018" aria-controls="3018" aria-selected="false">
              <span class="u-accordion-link-text">PivotToolMain</span>
            </a>
            <div class="u-accordion-pane u-container-style u-accordion-pane-2" id="3018" aria-labelledby="link-3018">
              <div class="u-container-layout u-container-layout-2">
                <!--#region Container-->
                <div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%">  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.Export</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.Handlers</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.Service</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.Window</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">UnityEditor</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">UnityEngine</span>;

<span style="color: #AA22FF; font-weight: bold">namespace</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.UIVieuwer</span>
{
	<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
	<span style="color: #008800; font-style: italic">/// PivotToolMain contains the main tab of the pivot tool here the exporting of the mesh is also dislayed and called from</span>
	<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
	<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">class</span> <span style="color: #0000FF">PivotToolMain</span>
	{
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// contains an string &quot;Export&quot;</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> ExportTabName = <span style="color: #BB4444">&quot;Export&quot;</span>;

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// contains an string &quot;Save Mesh as Asset&quot;</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> saveAssetText = <span style="color: #BB4444">&quot;Save Mesh as Asset&quot;</span>;
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// contains an string &quot;Save Mesh as OBJ&quot;</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> saveOBJText = <span style="color: #BB4444">&quot;Save Mesh as OBJ&quot;</span>;
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// contains an string &quot;Save Mesh as fbx&quot;</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> saveFBXext = <span style="color: #BB4444">&quot;Save Mesh as fbx&quot;</span>;
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// contains an string &quot;Save Mesh as STL&quot;</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> saveSTLText = <span style="color: #BB4444">&quot;Save Mesh as STL&quot;</span>;

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// contains an string &quot;Gizmo&quot;</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> ButtonText = <span style="color: #BB4444">&quot;Gizmo&quot;</span>;
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// contains an string &quot;Set New Pivot&quot;</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> SetPivotText = <span style="color: #BB4444">&quot;Set New Pivot&quot;</span>;

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// contains an string &quot;Enabled&quot;</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> isOn = <span style="color: #BB4444">&quot;Enabled &quot;</span>;
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// contains an string &quot;Disabled&quot;</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> isOff = <span style="color: #BB4444">&quot;Disabled &quot;</span>;

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// foldout boolean</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #00BB00; font-weight: bold">bool</span> ExportTab = <span style="color: #AA22FF; font-weight: bold">true</span>;

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// draws the ui of pivtoolmain class</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">DrawUI</span>()
		{
			EnableButton();
			<span style="color: #AA22FF; font-weight: bold">if</span> (CheckIfSelected())
			{
				SetPivotButton(<span style="color: #666666">20</span>);

				PivotToolEditor.AddHorizontalLine(Color.black);
				ExportTab = EditorGUILayout.Foldout(ExportTab, ExportTabName);
				<span style="color: #AA22FF; font-weight: bold">if</span> (ExportTab)
				{
					SaveMeshButton();
					SaveOBJButton();
					SaveFBXButton();
					SaveSTLButton();
				}
			}
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// enable button handles if the tool shows an pivto the user can move</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">EnableButton</span>()
		{
			<span style="color: #00BB00; font-weight: bold">string</span> buttonState = PositionHandle.showPositionTool ? isOff : isOn;

			<span style="color: #AA22FF; font-weight: bold">if</span> (GUILayout.Button(buttonState + ButtonText))
			{
				<span style="color: #AA22FF; font-weight: bold">if</span> (Selection.activeTransform != <span style="color: #AA22FF; font-weight: bold">null</span>)
				{
					PositionHandle.showPositionTool = !PositionHandle.showPositionTool;
					PositionHandle.ResetValues();
					PositionHandle.targetPosition = Selection.activeTransform.position;
				}
			}
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// calls the pivot on the position the handler is on when button pressed</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// &lt;param name=&quot;height&quot;&gt;&lt;/param&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">SetPivotButton</span>(<span style="color: #00BB00; font-weight: bold">float</span> height)
		{
			<span style="color: #AA22FF; font-weight: bold">if</span> (GUILayout.Button(SetPivotText,GUILayout.Height(height)))
			{
				PivotService.SetPivot(PositionHandle.targetPosition, PivotSettings.centerCollider, PivotSettings.centerNavmesh);
			}
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// calls the save as asset function</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">SaveMeshButton</span>()
		{
			MeshFilter meshFilter = Selection.activeTransform.gameObject.transform.GetComponent&lt;MeshFilter&gt;();
			<span style="color: #AA22FF; font-weight: bold">if</span> (GUILayout.Button(saveAssetText))
			{
				DataSaver.SaveMesh(SaveFiles.asset, meshFilter);
			}
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// calls the save as obj function</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">SaveOBJButton</span>()
		{
			MeshFilter meshFilter = Selection.activeTransform.gameObject.transform.GetComponent&lt;MeshFilter&gt;();
			<span style="color: #AA22FF; font-weight: bold">if</span> (GUILayout.Button(saveOBJText))
			{
				DataSaver.SaveMesh(SaveFiles.obj, meshFilter);
			}
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// calls the save as fbx function</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">SaveFBXButton</span>()
		{
			MeshFilter meshFilter = Selection.activeTransform.gameObject.transform.GetComponent&lt;MeshFilter&gt;();
			<span style="color: #AA22FF; font-weight: bold">if</span> (GUILayout.Button(saveFBXext))
			{
				DataSaver.SaveMesh(SaveFiles.fbx, meshFilter);
			}
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// calls the save as stl function</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">SaveSTLButton</span>()
		{
			MeshFilter meshFilter = Selection.activeTransform.gameObject.transform.GetComponent&lt;MeshFilter&gt;();
			<span style="color: #AA22FF; font-weight: bold">if</span> (GUILayout.Button(saveSTLText))
			{
				DataSaver.SaveMesh(SaveFiles.stl, meshFilter);
			}
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// checks if the currently sellected is not null and has an meshfilter</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #00BB00; font-weight: bold">bool</span> <span style="color: #00A000">CheckIfSelected</span>()
		{
			<span style="color: #AA22FF; font-weight: bold">if</span> (Selection.activeTransform == <span style="color: #AA22FF; font-weight: bold">null</span>
				|| Selection.activeTransform.gameObject == <span style="color: #AA22FF; font-weight: bold">null</span> ||
				Selection.activeTransform.gameObject.transform == <span style="color: #AA22FF; font-weight: bold">null</span> ||
				Selection.activeTransform.gameObject.transform.GetComponent&lt;MeshFilter&gt;() == <span style="color: #AA22FF; font-weight: bold">null</span>)
			{
				<span style="color: #AA22FF; font-weight: bold">return</span> <span style="color: #AA22FF; font-weight: bold">false</span>;
			}
			<span style="color: #AA22FF; font-weight: bold">return</span> <span style="color: #AA22FF; font-weight: bold">true</span>;
		}
	}
}
</pre></td></tr></table></div>

                <!-- #endregion -->
              </div>
            </div>
          </div>
          <div class="u-accordion-item u-accordion-item-3">
            <a class="u-accordion-link u-active-palette-5-base u-border-2 u-border-grey-75 u-border-hover-palette-5-light-1 u-button-style u-hover-palette-5-base u-palette-5-base u-text-active-white u-text-body-alt-color u-text-hover-white u-accordion-link-3" id="link-3018" aria-controls="3018" aria-selected="false">
              <span class="u-accordion-link-text">PositionHandle</span>
            </a>
            <div class="u-accordion-pane u-container-style u-accordion-pane-3" id="3018" aria-labelledby="link-3018">
              <div class="u-container-layout u-container-layout-3">
                <!--#region container-->
<div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%">  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.Service</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.UIVieuwer</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">UnityEditor</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">UnityEngine</span>;

<span style="color: #AA22FF; font-weight: bold">namespace</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.Handlers</span>
{
	<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
	<span style="color: #008800; font-style: italic">/// Position handle is an custom editor from the gameobject type and uses the OnSceneGUIManager function for most of its work withing this tool will be the handling of the new pivot position</span>
	<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
	<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">class</span> <span style="color: #0000FF">PositionHandle</span>:Editor
	{
        <span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
        <span style="color: #008800; font-style: italic">///  this is an string that contains NewPosition + the position of the old pivot position</span>
        <span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
        <span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> oldPositionText = <span style="color: #BB4444">&quot;OldPosition &quot;</span>;
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">///  this is an string that contains NewPosition + the position of the new pivot position</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
        <span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> newPositionText = <span style="color: #BB4444">&quot;NewPosition &quot;</span>;
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// this is an string that contains Distance + the distance from the old position and the new position</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> distanceText = <span style="color: #BB4444">&quot;Distance &quot;</span>;

        <span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
        <span style="color: #008800; font-style: italic">/// this is an string that contains Old Pivot Position and will be used to show the user witch position is the old and new position</span>
        <span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
        <span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> oldPos = <span style="color: #BB4444">&quot;Old Pivot Position&quot;</span>;
        <span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
        <span style="color: #008800; font-style: italic">/// this is an string that contains New Pivot Position and will be used to show the user witch position is the old and new position</span>
        <span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
        <span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> newPos = <span style="color: #BB4444">&quot;New Pivot Position&quot;</span>;
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// this is an string that contains an string key that will be check for input for vertex snapping</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> vertexSnapInput = <span style="color: #BB4444">&quot;c&quot;</span>;
        <span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
        <span style="color: #008800; font-style: italic">/// this is an string that contains an string key that will be check for input for unDoing</span>
        <span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
        <span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> undoInput = <span style="color: #BB4444">&quot;-&quot;</span>;

        <span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
        <span style="color: #008800; font-style: italic">/// this is an string that contains an string key that will be check for input for redDoing</span>
        <span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
        <span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> redoInput = <span style="color: #BB4444">&quot;+&quot;</span>;

        <span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
        <span style="color: #008800; font-style: italic">/// this is an bool that will be set when the position needs to be shown and may move</span>
        <span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
        <span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #00BB00; font-weight: bold">bool</span> showPositionTool;
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// this is an bool that will be set when input is received an vertex snapping can be used</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #00BB00; font-weight: bold">bool</span> vertSnapping;

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// the position of the new pivot</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">static</span> Vector3 targetPosition { <span style="color: #AA22FF; font-weight: bold">get</span> { <span style="color: #AA22FF; font-weight: bold">return</span> m_TargetPosition; } <span style="color: #AA22FF; font-weight: bold">set</span> { m_TargetPosition = <span style="color: #AA22FF; font-weight: bold">value</span>; } }

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// the private value of the new pivot</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> Vector3 m_TargetPosition = <span style="color: #AA22FF; font-weight: bold">new</span> Vector3(<span style="color: #666666">0f</span>, <span style="color: #666666">0f</span>, <span style="color: #666666">0f</span>);

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// latest saved position</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> Vector3 latestSaved;
		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// the old Gameobject that was or is selected</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> GameObject oldObject = <span style="color: #AA22FF; font-weight: bold">null</span>;

        <span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// within this function some variables will be reset because of user experience</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
        <span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">ResetValues</span>()
		{
			m_TargetPosition = Vector3.zero;
			<span style="color: #AA22FF; font-weight: bold">if</span> (Selection.activeTransform == <span style="color: #AA22FF; font-weight: bold">null</span>)
			{
				<span style="color: #AA22FF; font-weight: bold">return</span>;
			}
			GameObject targetObject = Selection.activeTransform.gameObject;

			<span style="color: #AA22FF; font-weight: bold">if</span> (targetObject == <span style="color: #AA22FF; font-weight: bold">null</span>)
			{
				<span style="color: #AA22FF; font-weight: bold">return</span>;
			}
			<span style="color: #AA22FF; font-weight: bold">if</span> (oldObject != targetObject)
			{
				targetPosition = targetObject.gameObject.transform.position;
			}
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// drawscene function draws the scene gui and wil be called from sceneguimanager</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">DrawScene</span>()
		{
			<span style="color: #AA22FF; font-weight: bold">if</span> (showPositionTool)
			{

				<span style="color: #AA22FF; font-weight: bold">if</span> (Selection.activeTransform == <span style="color: #AA22FF; font-weight: bold">null</span>)
				{
					<span style="color: #AA22FF; font-weight: bold">return</span>;
				}

				GameObject targetObject = Selection.activeTransform.gameObject;


				Tools.hidden = <span style="color: #AA22FF; font-weight: bold">true</span>;

				DrawGuids(targetObject);

				CheckInput(targetObject);

				<span style="color: #AA22FF; font-weight: bold">if</span> (CheckOldObject(targetObject))
				{
					<span style="color: #AA22FF; font-weight: bold">return</span>;
				}
				<span style="color: #AA22FF; font-weight: bold">if</span> (!Selection.activeTransform.GetComponent&lt;MeshFilter&gt;())
				{
					Debug.LogError(<span style="color: #BB4444">&quot;Please add an MeshFilter to the object&quot;</span>);
					<span style="color: #AA22FF; font-weight: bold">return</span>;
				}
				UndoRedoPivot.AddNewPivot(Selection.activeTransform.GetComponent&lt;MeshFilter&gt;().sharedMesh);
			}
			<span style="color: #AA22FF; font-weight: bold">else</span>
			{
				<span style="color: #AA22FF; font-weight: bold">if</span> (!MultiplePositionHandle.EnableMultiPivot)
				{
					Tools.hidden = <span style="color: #AA22FF; font-weight: bold">false</span>;
				}
			}
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// Draws some debug guids like old/new pivot position also distance</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// &lt;param name=&quot;targetObject&quot;&gt;&lt;/param&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">DrawGuids</span>(GameObject targetObject)
		{
			GUI.color = Color.red;
			EditorGUI.BeginChangeCheck();

			Handles.PositionHandle(targetObject.transform.position, Quaternion.identity);
			Handles.Label(targetObject.transform.position, oldPos);

			GUI.color = Color.green;
            Vector3 newTargetPosition = Handles.PositionHandle(targetPosition, Quaternion.identity);

            <span style="color: #AA22FF; font-weight: bold">if</span> (EditorGUI.EndChangeCheck())
			{
				<span style="color: #AA22FF; font-weight: bold">if</span>(Vector3.Distance(latestSaved, newTargetPosition) &gt; UndoRedoPosition.undoRedoDistance)
				{
					latestSaved = newTargetPosition;
					UndoRedoPosition.SavePosition(latestSaved);
				}
                targetPosition = newTargetPosition;
			}
			Handles.Label(newTargetPosition, newPos);

			GUI.color = Color.blue;
			Vector3 offset = Vector3.zero;
			<span style="color: #AA22FF; font-weight: bold">if</span> (PivotSettings.oldPositionInfo)
			{
				offset += <span style="color: #AA22FF; font-weight: bold">new</span> Vector3(<span style="color: #666666">0</span>, <span style="color: #666666">0.2f</span>, <span style="color: #666666">0</span>);
				Handles.Label(newTargetPosition += offset,oldPositionText + targetObject.transform.position.ToString());
			}

			<span style="color: #AA22FF; font-weight: bold">if</span> (PivotSettings.newPositionInfo)
			{
				offset += <span style="color: #AA22FF; font-weight: bold">new</span> Vector3(<span style="color: #666666">0</span>, <span style="color: #666666">0.2f</span>, <span style="color: #666666">0</span>);
				Handles.Label(newTargetPosition + offset, newPositionText + newTargetPosition.ToString());
			}

			<span style="color: #AA22FF; font-weight: bold">if</span> (PivotSettings.useDistanceInfo)
			{
				offset += <span style="color: #AA22FF; font-weight: bold">new</span> Vector3(<span style="color: #666666">0</span>, <span style="color: #666666">0.2f</span>, <span style="color: #666666">0</span>);
				Handles.Label(newTargetPosition + offset, distanceText + Vector3.Distance(targetObject.transform.position, newTargetPosition).ToString());
			}
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// checks if the given gamobject is equals to the oldGameobject returns true if not</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #00BB00; font-weight: bold">bool</span> <span style="color: #00A000">CheckOldObject</span>(GameObject targetObject)
		{
			<span style="color: #AA22FF; font-weight: bold">if</span> (oldObject != targetObject)
			{
				ResetValues();
				oldObject = targetObject;
				<span style="color: #AA22FF; font-weight: bold">return</span> <span style="color: #AA22FF; font-weight: bold">true</span>;
			}

			<span style="color: #AA22FF; font-weight: bold">if</span> (targetObject == <span style="color: #AA22FF; font-weight: bold">null</span>)
			{
				<span style="color: #AA22FF; font-weight: bold">return</span> <span style="color: #AA22FF; font-weight: bold">false</span>;
			}
			<span style="color: #AA22FF; font-weight: bold">return</span> <span style="color: #AA22FF; font-weight: bold">false</span>;
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// checks for input and calls GetClosestVertex</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">CheckInput</span>(GameObject targetObject)
		{
			<span style="color: #00BB00; font-weight: bold">var</span> e = Event.current;
			<span style="color: #AA22FF; font-weight: bold">if</span> (e.isKey)
			{
				<span style="color: #AA22FF; font-weight: bold">if</span> (e.character.ToString() == vertexSnapInput)
				{
					Mesh targetMesh = targetObject.GetComponent&lt;MeshFilter&gt;().sharedMesh;
					<span style="color: #AA22FF; font-weight: bold">if</span> (targetMesh == <span style="color: #AA22FF; font-weight: bold">null</span> || targetObject == <span style="color: #AA22FF; font-weight: bold">null</span>)
					{
						<span style="color: #AA22FF; font-weight: bold">return</span>;
					}
					Vector3 closestVertex = GetClosestVertex(targetMesh, targetPosition, targetObject.transform.position, targetObject.transform.localScale);

					targetPosition = closestVertex;
				}
				<span style="color: #AA22FF; font-weight: bold">if</span> (e.character.ToString() == undoInput)
				{
					targetPosition = UndoRedoPosition.ReturnPosition(targetPosition);
				}
				<span style="color: #AA22FF; font-weight: bold">else</span> <span style="color: #00A000">if</span> (e.character.ToString() == redoInput)
				{
					targetPosition = UndoRedoPosition.ReturnRedoPosition();
				}
                
            }
		}

		<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// this is an function that will check the meshes vertex for the closes vertex from the given position</span>
		<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
		<span style="color: #008800; font-style: italic">/// &lt;param name=&quot;mesh&quot;&gt;&lt;/param&gt;</span>
		<span style="color: #008800; font-style: italic">/// &lt;param name=&quot;position&quot;&gt;&lt;/param&gt;</span>
		<span style="color: #008800; font-style: italic">/// &lt;param name=&quot;meshOffset&quot;&gt;&lt;/param&gt;</span>
		<span style="color: #008800; font-style: italic">/// &lt;returns&gt;&lt;/returns&gt;</span>
		<span style="color: #AA22FF; font-weight: bold">private</span> <span style="color: #AA22FF; font-weight: bold">static</span> Vector3 <span style="color: #00A000">GetClosestVertex</span>(Mesh mesh, Vector3 position, Vector3 meshOffset,Vector3 scale)
		{
			<span style="color: #00BB00; font-weight: bold">float</span> minDistance = Mathf.Infinity;

			Vector3 closestVertex = Vector3.zero;

			<span style="color: #AA22FF; font-weight: bold">foreach</span> (Vector3 vertex <span style="color: #AA22FF; font-weight: bold">in</span> mesh.vertices)
			{
				Vector3 scaledVertex = Vector3.Scale(vertex, scale);

				<span style="color: #00BB00; font-weight: bold">float</span> distance = Vector3.Distance(scaledVertex + meshOffset, position);

				<span style="color: #AA22FF; font-weight: bold">if</span> (distance &lt; minDistance)
				{
					minDistance = distance;
					closestVertex = scaledVertex + meshOffset;
				}
			}
			<span style="color: #AA22FF; font-weight: bold">return</span> closestVertex;
		}
	}
}
</pre></td></tr></table></div>

                <!--#endregion-->
              </div>
            </div>
          </div>
          <div class="u-accordion-item">
            <a class="u-accordion-link u-active-palette-5-base u-border-2 u-border-grey-75 u-border-hover-palette-5-light-1 u-button-style u-hover-palette-5-base u-palette-5-base u-text-active-white u-text-body-alt-color u-text-hover-white u-accordion-link-4" id="link-3018" aria-controls="3018" aria-selected="false">
              <span class="u-accordion-link-text">DataSaver</span>
            </a>
            <div class="u-accordion-pane u-container-style u-accordion-pane-4" id="3018" aria-labelledby="link-3018">
              <div class="u-container-layout u-container-layout-4">
                  <!--#region container-->
                <div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">UnityEditor</span>;
<span style="color: #AA22FF; font-weight: bold">using</span> <span style="color: #0000FF; font-weight: bold">UnityEngine</span>;

<span style="color: #AA22FF; font-weight: bold">namespace</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.Export</span>
{
	<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
	<span style="color: #008800; font-style: italic">/// the supported files that can be saved</span>
	<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
	<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">enum</span> SaveFiles
	{
		empty = <span style="color: #666666">0</span>,
		asset = <span style="color: #666666">1</span>,
		obj = <span style="color: #666666">2</span>,
		fbx = <span style="color: #666666">3</span>,
		stl = <span style="color: #666666">4</span>,
	}
}
<span style="color: #AA22FF; font-weight: bold">namespace</span> <span style="color: #0000FF; font-weight: bold">DeTools.PivotTool.Export</span>
{
	<span style="color: #008800; font-style: italic">/// &lt;summary&gt;</span>
	<span style="color: #008800; font-style: italic">/// datasaver contains an sort function that wil be used to chose the right export methode</span>
	<span style="color: #008800; font-style: italic">/// &lt;/summary&gt;</span>
	<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">class</span> <span style="color: #0000FF">DataSaver</span>
	{
		<span style="color: #AA22FF; font-weight: bold">const</span> <span style="color: #00BB00; font-weight: bold">string</span> saveText = <span style="color: #BB4444">&quot;Save As&quot;</span>;

		<span style="color: #AA22FF; font-weight: bold">public</span> <span style="color: #AA22FF; font-weight: bold">static</span> <span style="color: #AA22FF; font-weight: bold">void</span> <span style="color: #00A000">SaveMesh</span>(SaveFiles type, MeshFilter meshFilter)
		{
			<span style="color: #AA22FF; font-weight: bold">if</span> (type == SaveFiles.empty)
			{
				<span style="color: #AA22FF; font-weight: bold">return</span>;
			}

			<span style="color: #00BB00; font-weight: bold">string</span> assetType = type.ToString();

			<span style="color: #00BB00; font-weight: bold">string</span> savedMeshName = meshFilter.sharedMesh.name;
			<span style="color: #00BB00; font-weight: bold">string</span> savePath = EditorUtility.SaveFilePanelInProject(saveText, savedMeshName, assetType, <span style="color: #00BB00; font-weight: bold">string</span>.Empty);
			<span style="color: #AA22FF; font-weight: bold">if</span> (<span style="color: #00BB00; font-weight: bold">string</span>.IsNullOrEmpty(savePath))
				<span style="color: #AA22FF; font-weight: bold">return</span>;


			Mesh mesh = meshFilter.sharedMesh;
			<span style="color: #AA22FF; font-weight: bold">if</span> (!<span style="color: #00BB00; font-weight: bold">string</span>.IsNullOrEmpty(AssetDatabase.GetAssetPath(mesh)))
				mesh = EditorWindow.Instantiate(mesh);


			<span style="color: #AA22FF; font-weight: bold">switch</span> (type)
			{
				<span style="color: #AA22FF; font-weight: bold">case</span> SaveFiles.asset:
					AssetDatabase.CreateAsset(mesh, savePath);
					<span style="color: #AA22FF; font-weight: bold">break</span>;
				<span style="color: #AA22FF; font-weight: bold">case</span> SaveFiles.obj:
					ObjExporter.MeshToFile(mesh, savePath);
					<span style="color: #AA22FF; font-weight: bold">break</span>;
				<span style="color: #AA22FF; font-weight: bold">case</span> SaveFiles.fbx:
					FbxExporter.MeshToFbx(meshFilter, savePath);
					<span style="color: #AA22FF; font-weight: bold">break</span>;
				<span style="color: #AA22FF; font-weight: bold">case</span> SaveFiles.stl:
					StlExporter.MeshToStl(mesh, savePath);
					<span style="color: #AA22FF; font-weight: bold">break</span>;
			}

			AssetDatabase.SaveAssets();
			AssetDatabase.Refresh();
		}
	}
}
</pre></td></tr></table></div>

                <!--#endregion-->
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    
    <footer class="u-align-center u-clearfix u-footer u-palette-5-base u-footer" id="sec-6d3f"><div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1" data-lang-en="Sample text. Click to select the Text Element."> © Timme Kingma 2022</p>
      </div></footer>
</body></html>